@model IEnumerable<bcpp.Models.portfolio>

@{
    WebGrid grid = new WebGrid(Model);
}

@{
    var gridColumns = new List<WebGridColumn>();

    if (User.IsInRole("admin"))
    {
        gridColumns.Add(grid.Column("uzivatel.jmeno", "Jméno vlastníka"));
    }
        gridColumns.Add(grid.Column("akcie.nazev", "Název"));
        gridColumns.Add(grid.Column("pocet", "Počet"));
        gridColumns.Add(grid.Column("cena", "Cena"));
        gridColumns.Add(grid.Column("datum_zmeny", "Datum poslední změny"));
        if (User.IsInRole("user") || User.IsInRole("admin"))
        {
            gridColumns.Add(grid.Column(format: (item) => Html.ActionLink("Upravit množství", "Index", "EditSum", new RouteValueDictionary(new { id = item.akcie_id }), null)));
        }
    }

@grid.GetHtml(
    tableStyle: "table table-striped table-hover",
    columns:
    grid.Columns(gridColumns.ToArray()))

